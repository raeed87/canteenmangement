#!/usr/bin/env python\nimport os\nimport sys\nimport django\n\n# Setup Django\nos.environ.setdefault('DJANGO_SETTINGS_MODULE', 'canteen.settings')\ndjango.setup()\n\nfrom django.core.management import execute_from_command_line\nfrom django.db import connection\nfrom django.core.management.color import no_style\nfrom django.db import transaction\n\nprint(\"=== Database Setup Script ===\")\n\ntry:\n    # Check if tables exist\n    with connection.cursor() as cursor:\n        cursor.execute(\"SELECT name FROM sqlite_master WHERE type='table';\")\n        tables = cursor.fetchall()\n        print(f\"Existing tables: {[table[0] for table in tables]}\")\n        \n    # Run migrations\n    print(\"Running migrations...\")\n    execute_from_command_line(['manage.py', 'migrate', '--verbosity=2'])\n    \n    # Check tables again\n    with connection.cursor() as cursor:\n        cursor.execute(\"SELECT name FROM sqlite_master WHERE type='table';\")\n        tables = cursor.fetchall()\n        print(f\"Tables after migration: {[table[0] for table in tables]}\")\n        \n    print(\"Database setup completed successfully!\")\n    \nexcept Exception as e:\n    print(f\"Database setup error: {e}\")\n    sys.exit(1)